###############################################################################
# A component of dotme, the dotfile manager.                                  #
###############################################################################

[color]
  ui        = true
[color "branch"]
  current   = yellow reverse
  local     = yellow
  remote    = green
[color "diff"]
  meta      = yellow bold
  frag      = magenta bold
  old       = red bold
  new       = green bold
[color "status"]
  added     = yellow
  changed   = green
  untracked = cyan
[diff]
  algorithm = patience
[push]
  default   = current

[alias]
  a    =      add
  aa   =      add .
  al   = !git cl | sed -n 's/^alias\\.//p'
  au   =      add -u .
  b    =      branch -v
  bc   = !git rev-parse --symbolic --abbrev-ref $(git symbolic-ref HEAD 2> /dev/null)
  bm   =      branch -v --merged
  bn   =      branch -v --no-merged
  c    =      commit -v
  ca   =      commit -v --all
  cb   =      checkout -b
  cf   =      config
  ci   =      commit -v --interactive
  cl   =      config -l
  co   =      checkout
  cp   =      cherry-pick -x
  d    =      diff --no-prefix
  dc   =      diff --no-prefix --cached
  dd   = !GIT_PAGER=less git d
  di   =      diff --no-prefix HEAD
  dp   =      diff --no-prefix HEAD^
  e    =      reset HEAD
  ee   =      reset --soft HEAD^
  f    =      fetch
  g    =      grep -E -n
  h    =      help
  l    = !git ly --reverse -10
  la   = !GIT_PAGER=less git log --reverse
  lc   =      whatchanged --reverse -10
  lf   = !GIT_PAGER=less git whatchanged
  lg   = "!sh -c 'a=\"$1\"; shift; git ly -G\"$a\" \"$@\"' -"
  lgv  = "!sh -c 'git lG \"$@\" --pretty=medium' -"
  ll   =      log --reverse -10
  lol  =      log --pretty=oneline --abbrev-commit --graph --decorate
  lp   = !git lv -10
  lr   = "!sh -c 'a=\"$1\"; shift; git ly --grep=\"$a\" -E \"$@\"' -"
  lrv  = "!sh -c 'git lg \"$@\" --pretty=medium' -"
  ls   = "!sh -c 'a=\"$1\"; shift; git ly -S\"$a\" \"$@\"' -"
  lsv  = "!sh -c 'git ls \"$@\" --pretty=medium' -"
  lv   = !git la -p
  ly   =      log --pretty=tformat:\"%C(magenta)%h %Cgreen%ai %C(cyan)%an %Creset- %s\"
  m    =      merge
  msg  =      commit --allow-empty -m
  o    =      remote -v
  oo   = !git o | grep '@\\|\\bfile:/' | cut -f1 | sort -u
  p    =      push
  pa   = !git oo | xargs -I '{}' git push --force-with-lease '{}' $(git bc)
  po   = !git push --force-with-lease origin $(git bc)
  pp   = !git pa && git pt
  pt   = !git oo | xargs -I '{}' git push --tags '{}'
  ra   =      rebase --abort
  rb   =      rebase
  rc   =      rebase --continue
  re   =      reset
  ri   = "!sh -c 'git rebase -i $1^' -"
  rs   =      rebase --skip
  s    =      status
  ss   =      status --short
  st   =      stash
  sta  =      stash apply
  stb  =      stash branch
  std  =      stash drop
  stl  =      stash list
  stp  =      stash save --patch
  sts  =      stash save
  stt  =      stash pop
  stw  =      stash show --patch --no-prefix
  t    =      tag
  td   =      describe --contains
  tl   =      tag -n1 -l
  u    =      pull
  ua   = !git remote | xargs -I '{}' git pull '{}' $(git bc) && git fetch
  ur   = !git remote | xargs -I '{}' git pull --rebase '{}' $(git bc) && git fetch
  uu   = !git ly --reverse "$(git -c color.ui=always ua | tee /dev/tty | awk '/^Updating/{f=1;print $2};END{if(!f)print \"-0\"}')"
  v    =      revert
  w    =      show --pretty=fuller --no-prefix
  ww   = "!sh -c 'while :; do GIT_PAGER=less git w \"${1:-HEAD}\"; [ $# -gt 1 ] && shift || break; done' -"
  x    =      commit -v --amend
  xa   =      commit -v --amend -a
  z    =      checkout-index -u -f --
  zz   =      checkout -f --

[core]
  excludesfile = ~/.gitignore

[include]
  path = ~/.gitconfig.mine
